#include <stdio.h>
#include <stdlib.h>

enum states{
	State0,
	State1,
	State2,
	State3
};
enum states CurrentState;
int done = 0;
int Test1(){
	int num;
	printf("Enter Number bigger than 0: ");
	scanf("%d", &num);
	if(num > 0)
		return 1;
	return 0;
}
int Test2(){
	int num;
	printf("Enter Number bigger than 0: ");
	scanf("%d", &num);
	if(num > 0)
		return 1;
	return 0;
}
int Test2(){
	int num;
	printf("Enter Number bigger than 0: ");
	scanf("%d", &num);
	if(num > 0)
		return 1;
	return 0;
}
void initialise0(){
	print("State: %d\n", CurrentState);
}
void doSomething1(){
	print("State: %d\n", CurrentState);

}
void doSomething2(){
	print("State: %d\n", CurrentState);

}
void doSomething3(){
	print("State: %d\n", CurrentState);
}
int main(void) {
	while(!done){
		switch(CurrentState){
		case State0:
			initialise0();
			CurrentState = State1;
			printf("State %d\n", CurrentState);
			break;
		case State1:
			doSomething1();
			if(Test1())
				CurrentState = State3;
			else
				CurrentState = State2;
			printf("State %d\n", CurrentState);
			break;
		case State2:
			doSomething1();
			if(Test2())
				CurrentState = State3;
			else
				CurrentState = State0;
			printf("State %d\n", CurrentState);
			break;
		case State3:
			doSomething3();
			if(!Test3())
				CurrentState = State0;
			printf("State %d\n", CurrentState);
			break;
		}
	}
	return EXIT_SUCCESS;
}
